<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>第6回：AWS EC2デプロイ実践</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', 'メイリオ', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #333;
            overflow: hidden;
        }

        .slide-container {
            display: none;
            width: 100vw;
            height: 100vh;
            padding: 40px;
            animation: slideIn 0.5s ease-in-out;
        }

        .slide-container.active {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateX(50px); }
            to { opacity: 1; transform: translateX(0); }
        }

        .slide-content {
            background: white;
            border-radius: 20px;
            padding: 60px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            max-width: 1200px;
            width: 100%;
            max-height: 80vh;
            overflow-y: auto;
        }

        h1 {
            color: #667eea;
            font-size: 3em;
            margin-bottom: 30px;
            text-align: center;
            border-bottom: 3px solid #667eea;
            padding-bottom: 20px;
        }

        h2 {
            color: #764ba2;
            font-size: 2.2em;
            margin: 30px 0 20px;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        h3 {
            color: #667eea;
            font-size: 1.8em;
            margin: 25px 0 15px;
        }

        .icon {
            font-size: 1.5em;
        }

        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin: 30px 0;
        }

        .feature-card {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            padding: 30px;
            border-radius: 15px;
            text-align: center;
            transition: transform 0.3s;
        }

        .feature-card:hover {
            transform: translateY(-5px);
        }

        .feature-icon {
            font-size: 3em;
            margin-bottom: 15px;
        }

        .feature-title {
            font-size: 1.3em;
            color: #667eea;
            margin-bottom: 10px;
            font-weight: bold;
        }

        ul {
            margin: 20px 0;
            padding-left: 30px;
            line-height: 2;
            font-size: 1.1em;
        }

        ol {
            margin: 20px 0;
            padding-left: 30px;
            line-height: 2;
            font-size: 1.1em;
        }

        li {
            margin: 10px 0;
        }

        .code-block {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            font-family: 'Courier New', monospace;
            overflow-x: auto;
            line-height: 1.5;
        }

        .highlight-box {
            background: linear-gradient(135deg, #ffeaa7 0%, #fdcb6e 100%);
            padding: 25px;
            border-radius: 15px;
            margin: 30px 0;
            box-shadow: 0 5px 15px rgba(253, 203, 110, 0.3);
        }

        .warning-box {
            background: linear-gradient(135deg, #fab1a0 0%, #ff7675 100%);
            color: white;
            padding: 25px;
            border-radius: 15px;
            margin: 30px 0;
            box-shadow: 0 5px 15px rgba(255, 118, 117, 0.3);
        }

        .success-box {
            background: linear-gradient(135deg, #81ecec 0%, #6c5ce7 100%);
            color: white;
            padding: 25px;
            border-radius: 15px;
            margin: 30px 0;
            box-shadow: 0 5px 15px rgba(108, 92, 231, 0.3);
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 30px 0;
            background: white;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            border-radius: 10px;
            overflow: hidden;
        }

        th {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px;
            text-align: left;
            font-size: 1.1em;
        }

        td {
            padding: 15px;
            border-bottom: 1px solid #eee;
        }

        tr:hover {
            background: #f8f9fa;
        }

        .navigation {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 20px;
            background: rgba(255, 255, 255, 0.95);
            padding: 15px 30px;
            border-radius: 50px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            z-index: 1000;
        }

        .nav-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            transition: transform 0.2s;
        }

        .nav-btn:hover {
            transform: scale(1.1);
        }

        .nav-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        #slideNumber {
            display: flex;
            align-items: center;
            font-weight: bold;
            color: #667eea;
            font-size: 18px;
        }

        .centered {
            text-align: center;
        }

        .emoji-icon {
            font-size: 5em;
            margin: 20px 0;
        }

        .step-number {
            display: inline-block;
            width: 30px;
            height: 30px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            text-align: center;
            line-height: 30px;
            border-radius: 50%;
            margin-right: 10px;
            font-weight: bold;
        }

        .section-divider {
            height: 3px;
            background: linear-gradient(90deg, #667eea, #764ba2, #667eea);
            margin: 40px 0;
            border-radius: 2px;
        }

        .demo-section {
            background: linear-gradient(135deg, #e0f7fa 0%, #b2ebf2 100%);
            border-left: 5px solid #00acc1;
            padding: 25px;
            margin: 30px 0;
            border-radius: 10px;
        }

        .demo-title {
            color: #00acc1;
            font-size: 1.5em;
            margin-bottom: 15px;
            font-weight: bold;
        }

        p {
            line-height: 1.8;
            font-size: 1.1em;
            margin: 15px 0;
        }

        .comparison-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin: 30px 0;
        }

        .comparison-card {
            padding: 25px;
            border-radius: 15px;
            border: 2px solid #eee;
        }

        .comparison-card.rental {
            background: linear-gradient(135deg, #ffeaa7 0%, #fdcb6e 100%);
            border-color: #fdcb6e;
        }

        .comparison-card.cloud {
            background: linear-gradient(135deg, #d4fc79 0%, #96e6a1 100%);
            border-color: #96e6a1;
        }

        .info-box {
            background: linear-gradient(135deg, #dfe6e9 0%, #b2bec3 100%);
            padding: 25px;
            border-radius: 15px;
            margin: 30px 0;
            border-left: 5px solid #636e72;
        }

        .aws-orange {
            color: #FF9900;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <!-- スライド1: タイトル -->
    <div class="slide-container active">
        <div class="slide-content">
            <div class="centered">
                <div class="emoji-icon">☁️</div>
                <h1>第6回：AWS EC2デプロイ実践</h1>
                <h2>ローカルからAWSクラウドへ</h2>
                <div class="highlight-box">
                    <h3>本日学ぶこと</h3>
                    <ul style="text-align: left; display: inline-block;">
                        <li>🏢 レンタルサーバーとクラウドサーバーの違い</li>
                        <li>☁️ AWS EC2の基礎知識</li>
                        <li>🚀 EC2インスタンスの作成と設定</li>
                        <li>🔧 アプリケーションのデプロイ</li>
                        <li>🔐 セキュリティとドメイン設定</li>
                        <li>📊 モニタリングと運用</li>
                    </ul>
                </div>
                <div class="info-box">
                    <strong>前提条件：</strong> AWSアカウントをお持ちの方向けのレッスンです
                </div>
            </div>
        </div>
    </div>

    <!-- スライド2: レンタルサーバーvsクラウドサーバー -->
    <div class="slide-container">
        <div class="slide-content">
            <h1>🏢 レンタルサーバー vs クラウドサーバー</h1>
            <h2>それぞれの特徴を理解しよう</h2>

            <div class="comparison-grid">
                <div class="comparison-card rental">
                    <h3>レンタルサーバー（共用/VPS）</h3>
                    <ul style="text-align: left;">
                        <li>📦 <strong>固定リソース</strong><br>
                        決まったCPU・メモリ・容量</li>
                        <li>💰 <strong>月額固定料金</strong><br>
                        月3,000円〜10,000円程度</li>
                        <li>🔧 <strong>管理が簡単</strong><br>
                        コントロールパネルで操作</li>
                        <li>🚫 <strong>制限が多い</strong><br>
                        ソフトウェアインストールに制限</li>
                        <li>📈 <strong>スケーリングが困難</strong><br>
                        プラン変更に時間がかかる</li>
                    </ul>
                </div>

                <div class="comparison-card cloud">
                    <h3>クラウドサーバー（AWS EC2）</h3>
                    <ul style="text-align: left;">
                        <li>⚡ <strong>柔軟なリソース</strong><br>
                        必要に応じて変更可能</li>
                        <li>💸 <strong>従量課金制</strong><br>
                        使った分だけ支払い</li>
                        <li>🎛️ <strong>完全なコントロール</strong><br>
                        root権限でなんでも可能</li>
                        <li>✅ <strong>自由度が高い</strong><br>
                        好きなOSやソフトウェア利用可</li>
                        <li>🚀 <strong>即座にスケーリング</strong><br>
                        数分で性能アップ・ダウン</li>
                    </ul>
                </div>
            </div>

            <table>
                <tr>
                    <th>項目</th>
                    <th>レンタルサーバー</th>
                    <th>AWS EC2（クラウド）</th>
                </tr>
                <tr>
                    <td>初期費用</td>
                    <td>3,000円〜10,000円</td>
                    <td>無料</td>
                </tr>
                <tr>
                    <td>最小利用期間</td>
                    <td>3ヶ月〜1年</td>
                    <td>1分単位</td>
                </tr>
                <tr>
                    <td>サーバー停止時</td>
                    <td>料金発生</td>
                    <td>課金停止</td>
                </tr>
                <tr>
                    <td>バックアップ</td>
                    <td>手動 or オプション</td>
                    <td>スナップショット自動化可</td>
                </tr>
            </table>
        </div>
    </div>

    <!-- スライド3: Webサーバーに必要なもの -->
    <div class="slide-container">
        <div class="slide-content">
            <h1>🌐 Webサーバーに必要なもの</h1>
            <h2>世界中の人にサイトを見てもらうために</h2>

            <h3>Webサーバーとは？</h3>
            <p>インターネット上でWebサイトやアプリケーションを公開するためのコンピューターとソフトウェアの組み合わせです。</p>

            <div class="feature-grid">
                <div class="feature-card">
                    <div class="feature-icon">🖥️</div>
                    <div class="feature-title">サーバーマシン</div>
                    <p>物理サーバーまたは<br>クラウドの仮想サーバー<br>（AWS EC2など）</p>
                </div>

                <div class="feature-card">
                    <div class="feature-icon">⚙️</div>
                    <div class="feature-title">Webサーバーソフト</div>
                    <p><strong>Apache</strong> または <strong>Nginx</strong><br>HTTPリクエストを処理して<br>Webページを配信</p>
                </div>

                <div class="feature-card">
                    <div class="feature-icon">🌍</div>
                    <div class="feature-title">パブリックIP</div>
                    <p>インターネットからアクセス<br>できる公開IPアドレス<br>（例：52.195.12.32）</p>
                </div>

                <div class="feature-card">
                    <div class="feature-icon">🌐</div>
                    <div class="feature-title">ドメイン名</div>
                    <p>覚えやすいURL<br>（例：myapp.com）<br>IPアドレスに紐付け</p>
                </div>
            </div>

            <h3>基本的なWebサイトの構成</h3>
            <div class="comparison-grid">
                <div class="comparison-card cloud">
                    <h4>🏠 静的サイト（HTML/CSS/JS）</h4>
                    <ul style="text-align: left;">
                        <li>📄 <strong>HTML/CSS/JavaScript</strong><br>ブラウザで直接表示される</li>
                        <li>⚙️ <strong>Webサーバー</strong><br>Apache または Nginx</li>
                        <li>🚀 <strong>特徴</strong><br>高速、シンプル、軽量</li>
                    </ul>
                </div>

                <div class="comparison-card rental">
                    <h4>⚡ 動的サイト（アプリケーション）</h4>
                    <ul style="text-align: left;">
                        <li>💻 <strong>アプリケーション</strong><br>Node.js、PHP、Python等</li>
                        <li>🗄️ <strong>データベース</strong><br>MySQL、PostgreSQL等</li>
                        <li>🔧 <strong>特徴</strong><br>ユーザー登録、ログイン、データ処理</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <!-- スライド4: Webサーバーソフトウェアの種類 -->
    <div class="slide-container">
        <div class="slide-content">
            <h1>⚙️ Webサーバーソフトウェアの種類</h1>
            <h2>Apache vs Nginx</h2>

            <table>
                <tr>
                    <th>項目</th>
                    <th>Apache</th>
                    <th>Nginx</th>
                </tr>
                <tr>
                    <td>歴史</td>
                    <td>1995年～（老舗）</td>
                    <td>2004年～（新しい）</td>
                </tr>
                <tr>
                    <td>メモリ使用量</td>
                    <td>やや多い</td>
                    <td>少ない</td>
                </tr>
                <tr>
                    <td>処理方式</td>
                    <td>プロセス・スレッド型</td>
                    <td>イベント駆動型</td>
                </tr>
                <tr>
                    <td>同時接続数</td>
                    <td>中程度</td>
                    <td>非常に多い（10,000+）</td>
                </tr>
                <tr>
                    <td>設定の自由度</td>
                    <td>高い（.htaccess）</td>
                    <td>中程度</td>
                </tr>
            </table>

            <h3>アプリケーション実行環境</h3>
            <div class="feature-grid">
                <div class="feature-card">
                    <div class="feature-icon">🟨</div>
                    <div class="feature-title">Node.js</div>
                    <p>JavaScript実行環境<br>Express、React、Vue等<br><strong>今回使用</strong></p>
                </div>

                <div class="feature-card">
                    <div class="feature-icon">🐘</div>
                    <div class="feature-title">PHP</div>
                    <p>Webに特化した言語<br>WordPress、Laravel等<br>共用サーバーでも人気</p>
                </div>

                <div class="feature-card">
                    <div class="feature-icon">🐍</div>
                    <div class="feature-title">Python</div>
                    <p>汎用プログラミング言語<br>Django、Flask等<br>AI・機械学習にも強い</p>
                </div>

                <div class="feature-card">
                    <div class="feature-icon">💎</div>
                    <div class="feature-title">Ruby</div>
                    <p>日本発のプログラミング言語<br>Ruby on Rails<br>スタートアップに人気</p>
                </div>
            </div>

            <div class="info-box">
                💡 <strong>今回の構成：</strong> EC2（Ubuntu） + Nginx + Node.js + SQLite
            </div>
        </div>
    </div>

    <!-- スライド5: データベースの役割 -->
    <div class="slide-container">
        <div class="slide-content">
            <h1>🗄️ データベースの役割</h1>
            <h2>Webアプリケーションに欠かせない要素</h2>

            <h3>なぜデータベースが必要？</h3>
            <ul>
                <li><strong>ユーザー情報の管理：</strong> 登録・ログイン・プロフィール</li>
                <li><strong>コンテンツの保存：</strong> 記事、商品情報、コメント</li>
                <li><strong>履歴・ログの記録：</strong> アクセス履歴、購入履歴</li>
                <li><strong>設定の保存：</strong> システム設定、ユーザー設定</li>
            </ul>

            <h3>主要なデータベースの種類</h3>
            <div class="feature-grid">
                <div class="feature-card">
                    <div class="feature-icon">🐬</div>
                    <div class="feature-title">MySQL</div>
                    <p>世界で最も普及<br>WordPress等で使用<br>中小規模に最適</p>
                </div>

                <div class="feature-card">
                    <div class="feature-icon">🐘</div>
                    <div class="feature-title">PostgreSQL</div>
                    <p>高機能・高性能<br>大規模システムに人気<br>拡張性が高い</p>
                </div>

                <div class="feature-card">
                    <div class="feature-icon">🗃️</div>
                    <div class="feature-title">SQLite</div>
                    <p>軽量・ファイル型<br>アプリ組み込み用<br><strong>今回使用</strong></p>
                </div>

                <div class="feature-card">
                    <div class="feature-icon">🍃</div>
                    <div class="feature-title">MongoDB</div>
                    <p>NoSQL（非リレーショナル）<br>JSON形式でデータ保存<br>スケーラブル</p>
                </div>
            </div>

            <h3>Webアプリケーションの全体構成</h3>
            <div class="code-block">ユーザー（ブラウザ）
    ↓ HTTPリクエスト
🌐 インターネット
    ↓
🔐 Nginx（リバースプロキシ・SSL終端）
    ↓
⚙️ Node.js アプリケーション（Express.js）
    ↓
🗄️ データベース（SQLite/MySQL/PostgreSQL）</div>

            <div class="highlight-box">
                <strong>実際の例：</strong> ユーザーがログインボタンを押すと→NginxがリクエストをNode.jsに転送→Node.jsがデータベースでユーザー情報を確認→結果をNginx経由でブラウザに返す
            </div>
        </div>
    </div>

    <!-- スライド6: AWS EC2とは -->
    <div class="slide-container">
        <div class="slide-content">
            <h1><span class="aws-orange">AWS</span> EC2とは？</h1>
            <h2>Elastic Compute Cloud の基礎知識</h2>

            <div class="feature-grid">
                <div class="feature-card">
                    <div class="feature-icon">🖥️</div>
                    <div class="feature-title">仮想サーバー</div>
                    <p>物理サーバーを仮想化した<br>コンピューティングリソース</p>
                </div>

                <div class="feature-card">
                    <div class="feature-icon">⚡</div>
                    <div class="feature-title">即座に起動</div>
                    <p>数分で新しいサーバーを<br>作成・起動できる</p>
                </div>

                <div class="feature-card">
                    <div class="feature-icon">🌍</div>
                    <div class="feature-title">世界中のリージョン</div>
                    <p>東京、大阪を含む<br>世界25以上のリージョン</p>
                </div>

                <div class="feature-card">
                    <div class="feature-icon">💰</div>
                    <div class="feature-title">無料利用枠</div>
                    <p>新規アカウントは<br>12ヶ月間t2.micro無料</p>
                </div>
            </div>

            <h3>EC2の主要な概念</h3>
            <ul>
                <li><strong>インスタンス：</strong> 仮想サーバーの単位（1台のコンピューター）</li>
                <li><strong>AMI（Amazon Machine Image）：</strong> OSとソフトウェアのテンプレート</li>
                <li><strong>インスタンスタイプ：</strong> CPU、メモリなどのスペック（t2.micro、t3.medium等）</li>
                <li><strong>セキュリティグループ：</strong> ファイアウォールのルール設定</li>
                <li><strong>キーペア：</strong> SSH接続用の認証キー</li>
            </ul>

            <div class="info-box">
                💡 <strong>無料利用枠：</strong> t2.microインスタンス（1vCPU、1GBメモリ）を月750時間まで無料で利用可能
            </div>
        </div>
    </div>

    <!-- スライド4: EC2インスタンス作成準備 -->
    <div class="slide-container">
        <div class="slide-content">
            <h1>📝 EC2インスタンス作成の準備</h1>
            <h2>AWSコンソールでの初期設定</h2>

            <ol>
                <li>
                    <h3><span class="step-number">1</span>AWSマネジメントコンソールにログイン</h3>
                    <p>https://console.aws.amazon.com/ にアクセス</p>
                </li>

                <li>
                    <h3><span class="step-number">2</span>リージョンを東京に設定</h3>
                    <p>右上のリージョン選択から「アジアパシフィック（東京）ap-northeast-1」を選択</p>
                    <div class="highlight-box">
                        <strong>重要：</strong> リージョンによって料金が異なります。東京リージョンは日本からのアクセスが高速です。
                    </div>
                </li>

                <li>
                    <h3><span class="step-number">3</span>EC2ダッシュボードへ移動</h3>
                    <p>サービス検索で「EC2」と入力して選択</p>
                </li>
            </ol>

            <h3>必要な設定項目の確認</h3>
            <div class="feature-grid">
                <div class="feature-card">
                    <div class="feature-title">🔐 キーペア</div>
                    <p>SSH接続用の認証キー<br>（後で作成）</p>
                </div>

                <div class="feature-card">
                    <div class="feature-title">🛡️ セキュリティグループ</div>
                    <p>ファイアウォール設定<br>（後で作成）</p>
                </div>

                <div class="feature-card">
                    <div class="feature-title">💾 ストレージ</div>
                    <p>8GB〜30GB程度<br>（無料枠は30GBまで）</p>
                </div>
            </div>
        </div>
    </div>

    <!-- スライド5: EC2インスタンスの作成手順1 -->
    <div class="slide-container">
        <div class="slide-content">
            <h1>🚀 EC2インスタンスの作成（前半）</h1>
            <h2>ステップバイステップガイド</h2>

            <ol>
                <li>
                    <h3><span class="step-number">1</span>インスタンスを起動</h3>
                    <p>EC2ダッシュボードから「インスタンスを起動」をクリック</p>
                </li>

                <li>
                    <h3><span class="step-number">2</span>名前とタグの設定</h3>
                    <div class="code-block">名前: my-app-server
タグ:
  - Key: Environment, Value: Production
  - Key: Project, Value: Claude-Code-App</div>
                </li>

                <li>
                    <h3><span class="step-number">3</span>AMIの選択</h3>
                    <div class="info-box">
                        <strong>推奨AMI：</strong><br>
                        Ubuntu Server 22.04 LTS (HVM), SSD Volume Type<br>
                        <span style="color: green;">✓ 無料利用枠の対象</span>
                    </div>
                </li>

                <li>
                    <h3><span class="step-number">4</span>インスタンスタイプの選択</h3>
                    <div class="highlight-box">
                        <strong>t2.micro</strong> を選択（無料利用枠）<br>
                        • 1 vCPU<br>
                        • 1 GB メモリ<br>
                        • 小規模アプリケーションに最適
                    </div>
                </li>
            </ol>
        </div>
    </div>

    <!-- スライド6: EC2インスタンスの作成手順2 -->
    <div class="slide-container">
        <div class="slide-content">
            <h1>🚀 EC2インスタンスの作成（後半）</h1>

            <ol start="5">
                <li>
                    <h3><span class="step-number">5</span>キーペアの作成</h3>
                    <div class="code-block">キーペア名: my-app-key
キーペアのタイプ: RSA
プライベートキーファイル形式: .pem（Mac/Linux）または .ppk（Windows）</div>
                    <div class="warning-box">
                        ⚠️ <strong>重要：</strong> ダウンロードしたキーファイルは安全な場所に保管してください。<br>
                        紛失すると二度とダウンロードできません！
                    </div>
                </li>

                <li>
                    <h3><span class="step-number">6</span>ネットワーク設定（セキュリティグループ）</h3>
                    <table>
                        <tr>
                            <th>タイプ</th>
                            <th>プロトコル</th>
                            <th>ポート</th>
                            <th>ソース</th>
                            <th>説明</th>
                        </tr>
                        <tr>
                            <td>SSH</td>
                            <td>TCP</td>
                            <td>22</td>
                            <td>マイIP</td>
                            <td>SSH接続用</td>
                        </tr>
                        <tr>
                            <td>HTTP</td>
                            <td>TCP</td>
                            <td>80</td>
                            <td>0.0.0.0/0</td>
                            <td>Webアクセス用</td>
                        </tr>
                        <tr>
                            <td>HTTPS</td>
                            <td>TCP</td>
                            <td>443</td>
                            <td>0.0.0.0/0</td>
                            <td>SSL通信用</td>
                        </tr>
                        <tr>
                            <td>カスタムTCP</td>
                            <td>TCP</td>
                            <td>3000</td>
                            <td>0.0.0.0/0</td>
                            <td>Node.jsアプリ用</td>
                        </tr>
                    </table>
                </li>

                <li>
                    <h3><span class="step-number">7</span>ストレージ設定</h3>
                    <p>デフォルトの8GB または 最大30GB（無料枠内）</p>
                </li>

                <li>
                    <h3><span class="step-number">8</span>インスタンスを起動</h3>
                    <div class="success-box">
                        ✅ 「インスタンスを起動」をクリックして、2-3分待つと起動完了！
                    </div>
                </li>
            </ol>
        </div>
    </div>

    <!-- スライド7: SSH接続とセットアップ -->
    <div class="slide-container">
        <div class="slide-content">
            <h1>🔐 EC2へのSSH接続と初期設定</h1>
            <h2>サーバーへの接続と環境構築</h2>

            <h3>SSH接続の準備（Mac/Linux）</h3>
            <div class="code-block"># キーファイルの権限を変更
chmod 400 ~/Downloads/my-app-key.pem

# SSH接続（IPアドレスはEC2コンソールで確認）
ssh -i ~/Downloads/my-app-key.pem ubuntu@[パブリックIPアドレス]</div>

            <h3>初期セットアップスクリプト</h3>
            <div class="code-block"># システムを最新に更新
sudo apt update && sudo apt upgrade -y

# Node.js 18.xをインストール
curl -fsSL https://deb.nodesource.com/setup_18.x | sudo -E bash -
sudo apt-get install -y nodejs

# 必要なツールをインストール
sudo apt-get install -y git nginx

# PM2をグローバルインストール（プロセス管理）
sudo npm install -g pm2

# アプリケーション用ディレクトリを作成
mkdir ~/app
cd ~/app</div>

            <div class="highlight-box">
                <strong>Claude Codeへのプロンプト例：</strong><br>
                「EC2 Ubuntu環境でNode.jsアプリケーションを動かすための初期設定スクリプトを作成してください。nginx、PM2、gitも含めてください。」
            </div>
        </div>
    </div>

    <!-- スライド8: アプリケーションのデプロイ -->
    <div class="slide-container">
        <div class="slide-content">
            <h1>📦 アプリケーションのデプロイ</h1>
            <h2>GitHubからEC2へ</h2>

            <h3>デプロイ手順</h3>
            <ol>
                <li>
                    <strong>GitHubからクローン</strong>
                    <div class="code-block">cd ~/app
git clone https://github.com/your-username/your-app.git
cd your-app
npm install</div>
                </li>

                <li>
                    <strong>環境変数の設定</strong>
                    <div class="code-block"># .envファイルを作成
nano .env

# 以下を追加
PORT=3000
NODE_ENV=production
DATABASE_URL=your-database-url
JWT_SECRET=your-secret-key</div>
                </li>

                <li>
                    <strong>PM2でアプリケーション起動</strong>
                    <div class="code-block"># アプリケーションを起動
pm2 start server.js --name "my-app"

# 自動起動設定
pm2 save
pm2 startup</div>
                </li>

                <li>
                    <strong>動作確認</strong>
                    <div class="code-block"># ローカルで確認
curl http://localhost:3000

# ブラウザで確認
http://[EC2のパブリックIP]:3000</div>
                </li>
            </ol>

            <div class="success-box">
                ✅ これでアプリケーションがEC2上で動作開始！
            </div>
        </div>
    </div>

    <!-- スライド9: Nginxでリバースプロキシ設定 -->
    <div class="slide-container">
        <div class="slide-content">
            <h1>🔧 Nginxリバースプロキシ設定</h1>
            <h2>ポート80でアクセス可能に</h2>

            <h3>なぜNginxが必要？</h3>
            <ul>
                <li>Node.jsアプリ（ポート3000）を標準のHTTPポート（80）で公開</li>
                <li>静的ファイルの高速配信</li>
                <li>負荷分散、キャッシュ、セキュリティ強化</li>
            </ul>

            <h3>Nginx設定ファイル作成</h3>
            <div class="code-block"># 設定ファイルを作成
sudo nano /etc/nginx/sites-available/my-app

# 以下の設定を追加
server {
    listen 80;
    server_name _;

    location / {
        proxy_pass http://localhost:3000;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_cache_bypass $http_upgrade;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
}</div>

            <h3>設定を有効化</h3>
            <div class="code-block"># シンボリックリンクを作成
sudo ln -s /etc/nginx/sites-available/my-app /etc/nginx/sites-enabled/

# デフォルト設定を削除
sudo rm /etc/nginx/sites-enabled/default

# Nginx設定をテスト
sudo nginx -t

# Nginxを再起動
sudo systemctl restart nginx</div>

            <div class="info-box">
                💡 これで http://[EC2のパブリックIP]/ でアクセス可能になります（ポート番号不要）
            </div>
        </div>
    </div>

    <!-- スライド10: Elastic IPとドメイン設定 -->
    <div class="slide-container">
        <div class="slide-content">
            <h1>🌐 Elastic IPとドメイン設定</h1>
            <h2>固定IPアドレスと独自ドメイン</h2>

            <h3>Elastic IP（固定IP）の設定</h3>
            <ol>
                <li><strong>Elastic IPの割り当て</strong>
                    <p>EC2ダッシュボード → Elastic IP → 「Elastic IPアドレスの割り当て」</p>
                </li>
                <li><strong>インスタンスに関連付け</strong>
                    <p>割り当てたIPを右クリック → 「Elastic IPアドレスの関連付け」→ インスタンスを選択</p>
                </li>
            </ol>

            <div class="warning-box">
                ⚠️ <strong>注意：</strong> Elastic IPは、EC2インスタンスに関連付けている間は無料ですが、<br>
                関連付けていない場合は時間単位で課金されます。
            </div>

            <h3>ドメインの設定（Route 53使用）</h3>
            <div class="code-block"># Route 53でホストゾーンを作成
1. Route 53コンソールへ移動
2. 「ホストゾーンの作成」
3. ドメイン名を入力（例：myapp.com）

# レコードセットの作成
タイプ: A
値: [Elastic IPアドレス]

# www付きも設定
名前: www
タイプ: CNAME
値: myapp.com</div>

            <h3>SSL証明書とは？</h3>
            <div class="info-box">
                <strong>🔐 SSL（Secure Sockets Layer）の役割：</strong>
                <ul style="text-align: left;">
                    <li><strong>暗号化：</strong> ブラウザ↔サーバー間の通信を暗号化</li>
                    <li><strong>認証：</strong> サイトが本物であることを証明</li>
                    <li><strong>完全性：</strong> データが改ざんされていないことを保証</li>
                    <li><strong>SEO効果：</strong> GoogleがHTTPS化を推奨（検索順位向上）</li>
                </ul>
            </div>

            <div class="comparison-grid">
                <div class="comparison-card rental">
                    <h4>❌ HTTP（非暗号化）</h4>
                    <ul style="text-align: left;">
                        <li>通信内容が平文（盗聴可能）</li>
                        <li>ブラウザで「保護されていない通信」警告</li>
                        <li>パスワード等の送信は危険</li>
                    </ul>
                </div>

                <div class="comparison-card cloud">
                    <h4>✅ HTTPS（SSL暗号化）</h4>
                    <ul style="text-align: left;">
                        <li>通信内容が暗号化（安全）</li>
                        <li>ブラウザに🔒マークが表示</li>
                        <li>個人情報の送信も安心</li>
                    </ul>
                </div>
            </div>

            <h3>Let's EncryptでSSL証明書取得</h3>
            <div class="code-block"># Certbotをインストール
sudo apt install certbot python3-certbot-nginx -y

# SSL証明書を取得（無料）
sudo certbot --nginx -d myapp.com -d www.myapp.com

# 自動更新のテスト（90日ごとに更新必要）
sudo certbot renew --dry-run</div>

            <div class="success-box">
                ✅ これで https://myapp.com でセキュアにアクセス可能！<br>
                証明書は90日間有効で、自動更新されます。
            </div>
        </div>
    </div>

    <!-- スライド11: CloudWatchモニタリング -->
    <div class="slide-container">
        <div class="slide-content">
            <h1>📊 CloudWatchでモニタリング</h1>
            <h2>AWSネイティブの監視ツール</h2>

            <div class="feature-grid">
                <div class="feature-card">
                    <div class="feature-icon">📈</div>
                    <div class="feature-title">CPU使用率</div>
                    <p>インスタンスの負荷状況<br>80%超えたらアラート</p>
                </div>

                <div class="feature-card">
                    <div class="feature-icon">💾</div>
                    <div class="feature-title">メモリ使用率</div>
                    <p>メモリの消費状況<br>カスタムメトリクスで設定</p>
                </div>

                <div class="feature-card">
                    <div class="feature-icon">🌐</div>
                    <div class="feature-title">ネットワーク</div>
                    <p>送受信のトラフィック量<br>異常な通信を検知</p>
                </div>

                <div class="feature-card">
                    <div class="feature-icon">💽</div>
                    <div class="feature-title">ディスク使用率</div>
                    <p>ストレージの空き容量<br>90%超えたら要対応</p>
                </div>
            </div>

            <h3>CloudWatchアラームの設定</h3>
            <div class="code-block"># EC2コンソールから設定
1. CloudWatch → アラーム → アラームの作成
2. メトリクスの選択：EC2 → Per-Instance Metrics
3. 条件の設定：
   - CPU使用率 > 80% for 5分間
4. 通知の設定：
   - SNSトピックを作成
   - メールアドレスを登録</div>

            <h3>アプリケーションログの設定</h3>
            <div class="code-block"># CloudWatch Logsエージェントのインストール
wget https://s3.amazonaws.com/amazoncloudwatch-agent/ubuntu/amd64/latest/amazon-cloudwatch-agent.deb
sudo dpkg -i amazon-cloudwatch-agent.deb

# PM2のログをCloudWatchに送信
pm2 install pm2-cloudwatch-logs</div>

            <div class="info-box">
                💡 CloudWatchダッシュボードで全てのメトリクスを一元管理できます
            </div>
        </div>
    </div>

    <!-- スライド12: バックアップとスナップショット -->
    <div class="slide-container">
        <div class="slide-content">
            <h1>💾 バックアップとスナップショット</h1>
            <h2>データ保護とディザスタリカバリ</h2>

            <h3>EBSスナップショットの作成</h3>
            <ol>
                <li><strong>手動スナップショット</strong>
                    <div class="code-block"># EC2コンソールから
1. EC2 → Elastic Block Store → ボリューム
2. 対象ボリュームを選択
3. アクション → スナップショットの作成
4. 説明を入力して作成</div>
                </li>

                <li><strong>自動バックアップの設定</strong>
                    <div class="code-block"># AWS Backupを使用
1. AWS Backup → バックアッププランの作成
2. ルールの設定：
   - 頻度：毎日
   - 時刻：深夜2時
   - 保持期間：7日間
3. リソースの割り当て：
   - EC2インスタンスを選択</div>
                </li>
            </ol>

            <h3>AMIの作成（完全バックアップ）</h3>
            <div class="code-block"># インスタンス全体のイメージを作成
1. EC2 → インスタンス → 対象インスタンスを選択
2. アクション → イメージとテンプレート → イメージを作成
3. イメージ名：my-app-backup-20240115
4. 「再起動しない」にチェック（ダウンタイムを避ける場合）</div>

            <div class="highlight-box">
                <strong>💡 ベストプラクティス：</strong>
                <ul style="text-align: left;">
                    <li>本番環境は毎日自動バックアップ</li>
                    <li>大きな変更前は必ず手動バックアップ</li>
                    <li>定期的にリストアテストを実施</li>
                </ul>
            </div>
        </div>
    </div>

    <!-- スライド13: コスト最適化 -->
    <div class="slide-container">
        <div class="slide-content">
            <h1>💰 AWSコスト最適化のコツ</h1>
            <h2>無駄な出費を防ぐ方法</h2>

            <div class="feature-grid">
                <div class="feature-card">
                    <div class="feature-title">🔌 不要なリソースの停止</div>
                    <ul style="text-align: left;">
                        <li>開発環境は夜間・週末停止</li>
                        <li>使わないElastic IPは解放</li>
                        <li>古いスナップショットは削除</li>
                    </ul>
                </div>

                <div class="feature-card">
                    <div class="feature-title">📊 適切なインスタンスサイズ</div>
                    <ul style="text-align: left;">
                        <li>CloudWatchでCPU使用率確認</li>
                        <li>平均20%以下ならダウンサイズ</li>
                        <li>t3シリーズの活用（バースト機能）</li>
                    </ul>
                </div>

                <div class="feature-card">
                    <div class="feature-title">💳 料金アラート設定</div>
                    <ul style="text-align: left;">
                        <li>予算を設定（月$10など）</li>
                        <li>80%到達でアラート</li>
                        <li>Cost Explorerで分析</li>
                    </ul>
                </div>

                <div class="feature-card">
                    <div class="feature-title">🏷️ リザーブドインスタンス</div>
                    <ul style="text-align: left;">
                        <li>長期利用なら最大72%割引</li>
                        <li>1年または3年契約</li>
                        <li>本番環境におすすめ</li>
                    </ul>
                </div>
            </div>

            <h3>月額料金の目安（東京リージョン）</h3>
            <table>
                <tr>
                    <th>リソース</th>
                    <th>スペック</th>
                    <th>月額（概算）</th>
                </tr>
                <tr>
                    <td>EC2 t2.micro</td>
                    <td>1vCPU, 1GB RAM</td>
                    <td>$10〜12</td>
                </tr>
                <tr>
                    <td>EBS 30GB</td>
                    <td>汎用SSD (gp3)</td>
                    <td>$3〜4</td>
                </tr>
                <tr>
                    <td>データ転送</td>
                    <td>100GB/月</td>
                    <td>$10〜15</td>
                </tr>
                <tr>
                    <td>Elastic IP</td>
                    <td>1個（使用中）</td>
                    <td>$0</td>
                </tr>
            </table>

            <div class="info-box">
                💡 <strong>合計：</strong> 月額$25〜35程度（約3,500〜5,000円）で運用可能
            </div>
        </div>
    </div>

    <!-- スライド14: 実演課題1 -->
    <div class="slide-container">
        <div class="slide-content">
            <h1>🎯 実演課題①：EC2インスタンス構築</h1>

            <div class="demo-section">
                <div class="demo-title">課題内容</div>
                <p>Claude Codeで作成したNode.jsアプリケーションをAWS EC2にデプロイしてください。</p>
            </div>

            <h3>実施手順：</h3>
            <ol>
                <li>
                    <strong>EC2インスタンスの作成</strong>
                    <ul>
                        <li>Ubuntu 22.04 LTS、t2.micro</li>
                        <li>セキュリティグループ設定（22, 80, 443, 3000番ポート）</li>
                        <li>キーペアの作成とダウンロード</li>
                    </ul>
                </li>

                <li>
                    <strong>Claude Codeでセットアップスクリプト作成</strong>
                    <div class="code-block">プロンプト:
「AWS EC2 Ubuntu 22.04でNode.jsアプリケーションを
デプロイするための完全なセットアップスクリプトを作成してください。
Node.js、PM2、Nginx、Git、SSL証明書の設定も含めてください。」</div>
                </li>

                <li>
                    <strong>アプリケーションのデプロイ</strong>
                    <ul>
                        <li>GitHubからクローン</li>
                        <li>PM2で起動</li>
                        <li>Nginxでリバースプロキシ設定</li>
                    </ul>
                </li>

                <li>
                    <strong>動作確認</strong>
                    <p>http://[EC2のパブリックIP]/ でアクセスして確認</p>
                </li>
            </ol>

            <div class="success-box">
                🏆 <strong>達成目標：</strong> 60分以内にEC2上でアプリケーションを公開
            </div>
        </div>
    </div>

    <!-- スライド15: 実演課題2 -->
    <div class="slide-container">
        <div class="slide-content">
            <h1>🎯 実演課題②：本番環境の構築</h1>

            <div class="demo-section">
                <div class="demo-title">課題内容</div>
                <p>EC2環境を本番レベルに最適化してください。</p>
            </div>

            <h3>実装項目：</h3>
            <div class="feature-grid">
                <div class="feature-card">
                    <div class="feature-title">1. Elastic IP設定</div>
                    <ul style="text-align: left;">
                        <li>固定IPアドレスの割り当て</li>
                        <li>インスタンスへの関連付け</li>
                    </ul>
                </div>

                <div class="feature-card">
                    <div class="feature-title">2. SSL証明書導入</div>
                    <ul style="text-align: left;">
                        <li>Let's Encryptで無料SSL</li>
                        <li>自動更新の設定</li>
                    </ul>
                </div>

                <div class="feature-card">
                    <div class="feature-title">3. 監視設定</div>
                    <ul style="text-align: left;">
                        <li>CloudWatchアラーム作成</li>
                        <li>CPU80%超えでメール通知</li>
                    </ul>
                </div>

                <div class="feature-card">
                    <div class="feature-title">4. バックアップ設定</div>
                    <ul style="text-align: left;">
                        <li>EBSスナップショット作成</li>
                        <li>毎日深夜に自動バックアップ</li>
                    </ul>
                </div>
            </div>

            <h3>Claude Codeへのプロンプト例：</h3>
            <div class="code-block">「AWS EC2で本番環境を構築するためのチェックリストと
設定スクリプトを作成してください。以下を含めてください：
- セキュリティ強化（fail2ban、ufw）
- 自動バックアップ設定
- ログローテーション
- パフォーマンス最適化」</div>

            <div class="info-box">
                💡 これらの設定により、安全で信頼性の高い本番環境が構築できます
            </div>
        </div>
    </div>

    <!-- スライド16: まとめ -->
    <div class="slide-container">
        <div class="slide-content">
            <div class="centered">
                <div class="emoji-icon">🎊</div>
                <h1>レッスン6 完了！</h1>

                <div class="success-box">
                    <h2>✅ マスターしたスキル</h2>
                    <ul style="text-align: left; display: inline-block;">
                        <li>レンタルサーバーとクラウドサーバーの違い</li>
                        <li>AWS EC2インスタンスの作成と設定</li>
                        <li>SSH接続とサーバー環境構築</li>
                        <li>Nginxリバースプロキシの設定</li>
                        <li>Elastic IPとドメイン設定</li>
                        <li>CloudWatchによる監視</li>
                        <li>バックアップとコスト最適化</li>
                    </ul>
                </div>

                <div class="section-divider"></div>

                <h3>🌟 次のステップ</h3>
                <div class="feature-grid">
                    <div class="feature-card">
                        <div class="feature-title">Auto Scaling</div>
                        <p>負荷に応じて自動スケーリング</p>
                    </div>

                    <div class="feature-card">
                        <div class="feature-title">RDS連携</div>
                        <p>マネージドデータベースの活用</p>
                    </div>

                    <div class="feature-card">
                        <div class="feature-title">CloudFront CDN</div>
                        <p>世界中に高速配信</p>
                    </div>

                    <div class="feature-card">
                        <div class="feature-title">Docker & ECS</div>
                        <p>コンテナ化とオーケストレーション</p>
                    </div>
                </div>

                <div class="highlight-box">
                    <strong>🎯 最終目標達成！</strong><br>
                    あなたは今、Claude Codeで開発したアプリケーションを<br>
                    AWS EC2で本番運用する力を手に入れました！
                </div>
            </div>
        </div>
    </div>

    <!-- ナビゲーション -->
    <div class="navigation">
        <button class="nav-btn" onclick="previousSlide()">◀ 前へ</button>
        <span id="slideNumber">1 / 19</span>
        <button class="nav-btn" onclick="nextSlide()">次へ ▶</button>
        <button class="nav-btn" id="backToDashboard" onclick="backToDashboard()" style="display: none; background: #28a745;">📚 ダッシュボードに戻る</button>
    </div>

    <script>
        let currentSlide = 1;
        const totalSlides = document.querySelectorAll('.slide-container').length;

        function showSlide(n) {
            const slides = document.querySelectorAll('.slide-container');

            if (n > totalSlides) currentSlide = 1;
            if (n < 1) currentSlide = totalSlides;

            slides.forEach(slide => slide.classList.remove('active'));
            slides[currentSlide - 1].classList.add('active');

            document.getElementById('slideNumber').textContent = `${currentSlide} / ${totalSlides}`;

            // ナビゲーションボタンの状態更新
            document.querySelector('.nav-btn').disabled = currentSlide === 1;
            document.querySelectorAll('.nav-btn')[1].disabled = currentSlide === totalSlides;

            // 最後のスライドでダッシュボードに戻るボタンを表示
            const backBtn = document.getElementById('backToDashboard');
            if (currentSlide === totalSlides) {
                backBtn.style.display = 'inline-block';
            } else {
                backBtn.style.display = 'none';
            }
        }

        function nextSlide() {
            currentSlide++;
            showSlide(currentSlide);
        }

        function previousSlide() {
            currentSlide--;
            showSlide(currentSlide);
        }

        // キーボードナビゲーション
        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowRight') nextSlide();
            if (e.key === 'ArrowLeft') previousSlide();
        });

        // ダッシュボードに戻る関数
        function backToDashboard() {
            window.location.href = '/student-dashboard.html';
        }

        // 初期表示
        showSlide(currentSlide);
    </script>
</body>
</html>